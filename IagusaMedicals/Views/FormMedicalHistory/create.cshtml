@model IagusaMedicals.Models.MedicalHistoryModels
@{
    var message = ViewBag.SuccessMsg;
}

@{
    ViewBag.Title = "FormMedicalHistory";
}

@{

    List<SelectListItem> gender = new List<SelectListItem>();

    gender.Add(new SelectListItem() { Text = "MALE", Value = "1" });
    gender.Add(new SelectListItem() { Text = "FEMALE", Value = "2" });
    gender.Add(new SelectListItem() { Text = "NONBINARY", Value = "3" });

    List<SelectListItem> answer = new List<SelectListItem>();

    answer.Add(new SelectListItem() { Text = "No", Value = "true" });
    answer.Add(new SelectListItem() { Text = "Yes", Value = "false" });

}
<!-- end:: Subheader -->
@using (Ajax.BeginForm("Create", "FormMedicalHistory", new AjaxOptions
{
    HttpMethod = "POST",
    OnSuccess = "successAction"

},
                new { @id = "modalForm", enctype = "multipart/form-data" }
                ))
{

    @Html.AntiForgeryToken()



    <div class="kt-content  kt-grid__item kt-grid__item--fluid " id="kt_content">

        <div class="kt-portlet kt-portlet--mobile ">

            <div class="kt-portlet__body align-items-center ">


                <div class="form-horizontal col-md-6 ">
                    <br /><br />

                    <h4>Personal Information</h4>
                    <hr />
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <br />
                    <div class="row ">

                        <div class="col-md-6">
                            <div class="form-group">
                                <span style="padding-left:5px; font-size:12px;">
                                    First Name:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.personal.firstName, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.personal.firstName, "", new { @class = "text-danger" })
                                </div>

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Last Name:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.personal.lastName, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.personal.lastName, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>


                    </div>
                    <div class="row">
                        <div class="col-md-6">

                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Address in your home country
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.personal.addressCountry, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.personal.addressCountry, "", new { @class = "text-danger" })
                                </div>
                            </div>

                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Address in the U.S. (if apply):
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.personal.addressUS, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.personal.addressUS, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">

                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Mobile Phone:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.personal.mobilePhone, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.personal.mobilePhone, "", new { @class = "text-danger" })
                                </div>
                            </div>

                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    WhatsApp (if apply):
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.personal.whatsapp, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.personal.whatsapp, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Gender:
                                </span>
                                <div>
                                    @Html.DropDownListFor(model => model.personal.genderFk, gender, htmlAttributes: new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.personal.Gender, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-5">

                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Date of birth:
                                </span>
                                <div>
                                    @Html.TextBoxFor(model => model.personal.dateBirth, "{0:yyyy-MM-dd}", htmlAttributes: new { @class = "form-control", type = "date" })
                                    @Html.ValidationMessageFor(model => model.personal.dateBirth, "", new { @class = "text-danger" })
                                </div>
                            </div>

                        </div>
                        <div class="col-sm-7">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Country of nationality:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.personal.countryNationality, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.personal.whatsapp, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-6">

                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Passport number:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.personal.PassportNumber, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.personal.PassportNumber, "", new { @class = "text-danger" })
                                </div>
                            </div>

                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Visa number and Type of Visa:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.personal.visaNumberType, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.personal.visaNumberType, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>

                    </div>
                    <br />
                    <h4>Emergency Contact (at country of origin)</h4>
                    <hr />

                    <br />

                    <div class="row ">

                        <div class="col-md-6">
                            <div class="form-group">
                                <span style="padding-left:5px; font-size:12px;">
                                    First Name:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContact.firstName, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContact.firstName, "", new { @class = "text-danger" })
                                </div>

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Last Name:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContact.lastName, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContact.lastName, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">

                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Address in your home country
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContact.addressCountry, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContact.addressCountry, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">

                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Email
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContact.email, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContact.email, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">

                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Mobile Phone:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContact.mobilePhone, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContact.mobilePhone, "", new { @class = "text-danger" })
                                </div>
                            </div>

                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    WhatsApp (if apply):
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContact.whatsapp, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContact.whatsapp, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Relationship:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContact.relationship, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContact.relationship, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>

                    <br />

                    <h4>Emergency Contact (in U.S.)</h4>
                    <hr />

                    <br />

                    <div class="row ">

                        <div class="col-md-6">
                            <div class="form-group">
                                <span style="padding-left:5px; font-size:12px;">
                                    First Name:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContactUS.firstName, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContactUS.firstName, "", new { @class = "text-danger" })
                                </div>

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Last Name:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContactUS.lastName, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContactUS.lastName, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">

                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Address
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContactUS.address, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContactUS.address, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">

                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Email
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContactUS.email, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContactUS.email, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">

                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Mobile Phone:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContactUS.mobilePhone, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContactUS.mobilePhone, "", new { @class = "text-danger" })
                                </div>
                            </div>

                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    WhatsApp (if apply):
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContactUS.whatsapp, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContactUS.whatsapp, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Relationship (if any):
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.emergencyContactUS.relationship, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.emergencyContactUS.relationship, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>

                    <br />

                    <h4>Medical details</h4>
                    <hr />

                    <br />

                    <div class="row ">

                        <div class="col-md-4">
                            <div class="form-group">
                                <span style="padding-left:5px; font-size:12px;">
                                    Blood group:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.medicalDetails.bloodGroup, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.medicalDetails.bloodGroup, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Are you object to transfusion?
                                </span>
                                <div>
                                    @Html.DropDownListFor(model => model.medicalDetails.bloodtransfusion, answer, htmlAttributes: new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.medicalDetails.bloodtransfusion, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">

                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:0px; font-size:12px;">
                                    Have you received a medical clearance from your doctor?
                                </span>
                                <div>
                                    @Html.DropDownListFor(model => model.medicalDetails.medicalClearance, answer, htmlAttributes: new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.medicalDetails.medicalClearance, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:0px; font-size:12px;">
                                    Do you have any allergies?
                                </span>
                                <div>
                                    @Html.DropDownListFor(model => model.medicalDetails.allergies, answer, htmlAttributes: new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.medicalDetails.allergies, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-8">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    If yes, please list:
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.medicalDetails.allergiesList, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.medicalDetails.allergiesList, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Please list any medical conditions that you have (for example asthma, diabetes, epilepsy, etc):
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.medicalDetails.medicalConditionsList, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.medicalDetails.medicalConditionsList, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <div>

                                </div>
                                <span style="padding-left:5px; font-size:12px;">
                                    Please list any regular medications you require (include dosage):
                                </span>
                                <div>
                                    @Html.EditorFor(model => model.medicalDetails.regularMedications, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.medicalDetails.regularMedications, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="kt-separator kt-separator--border-dashed kt-separator--space-lg"></div>
                    <div class="kt-section">
                        <div id="kt_repeater_1" class="kt-section__body">
                            <h3 class="kt-section__title kt-section__title-lg">
                                Covid-19 Vaccination Record        

                                <a href="javascript:;" data-repeater-create="" class="btn btn-bold btn-sm btn-label-brand">
                                         <i class="la la-plus"></i> add another dose
                                </a>
                            </h3>
                            <div>
                                <div class="row" id="kt_repeater_1">
                                    <div data-repeater-list="" class="col-lg-10">
                                        <div data-repeater-item class="form-group row align-items-center">
                                            <div class="col-md-3">
                                                <div class="kt-form__group--inline">
                                                    <div class="kt-form__label">
                                                        <label>Product Name:</label>
                                                    </div>
                                                    <div class="kt-form__control">
                                                        @Html.EditorFor(model => model.firstDoseCovidVaccine, new { htmlAttributes = new { @class = "form-control" } })
                                                        @Html.ValidationMessageFor(model => model.firstDoseCovidVaccine, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                                <div class="d-md-none kt-margin-b-10"></div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="kt-form__group--inline">
                                                    <div class="kt-form__label">
                                                        <label class="kt-label m-label--single">application date:</label>
                                                    </div>
                                                    <div class="kt-form__control">
                                                        @Html.TextBoxFor(model => model.firstDoseDate, "{0:yyyy-MM-dd}", htmlAttributes: new { @class = "form-control", type = "date" })
                                                        @Html.ValidationMessageFor(model => model.firstDoseDate, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>
                                                <div class="d-md-none kt-margin-b-10"></div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="kt-form__group--inline">
                                                    <div class="kt-form__label">
                                                        <label class="kt-label m-label--single">&nbsp;</label>
                                                    </div>
                                                    <div class="kt-form__control">
                                                        <a href="javascript:;" data-repeater-delete="" class="btn-sm btn btn-label-danger btn-bold">
                                                            <i class="la la-trash-o"></i>
                                                            Delete
                                                        </a>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>


                    <br />
                    <div class="form-group">
                        <div class="col-md-12">
                            <input type="submit" value="Send!" class="btn btn-primary" />
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
}

@section scripts {
        <script type="text/javascript">


            var KTFormRepeater = function () {

                // Private functions
                var demo1 = function () {
                    $('#kt_repeater_1').repeater({
                        initEmpty: false,

                        defaultValues: {
                            'text-input': 'foo'
                        },

                        show: function () {
                            $(this).slideDown();
                        },

                        hide: function (deleteElement) {
                            $(this).slideUp(deleteElement);
                        }
                    });
                }

                return {
                    // public functions
                    init: function () {
                        demo1();
                    }
                };
            }();

            jQuery(document).ready(function () {
                KTFormRepeater.init();

            });
        </script>
        <script type="text/javascript">


            var KTFormRepeaterr = function () {

                // Private functions
                var demo1 = function () {
                    $('#kt_repeater_2').repeater({
                        initEmpty: false,

                        defaultValues: {
                            'text-input': 'foo'
                        },

                        show: function () {
                            $(this).slideDown();
                        },

                        hide: function (deleteElement) {
                            $(this).slideUp(deleteElement);
                        }
                    });
                }

                return {
                    // public functions
                    init: function () {
                        demo1();

                    }
                };
            }();

            jQuery(document).ready(function () {
                KTFormRepeaterr.init();

            });
        </script>

    }

